(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-52f1"],{"96tq":function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"c",function(){return a}),r.d(e,"d",function(){return i}),r.d(e,"e",function(){return l}),r.d(e,"f",function(){return c}),r.d(e,"a",function(){return u});var o=r("t3Un"),s="/api/admin/role";function n(t){return Object(o.a)({url:s,method:"get",params:t})}function a(t){return Object(o.a)({url:s+"/menuIds",method:"get",params:{roleId:t}})}function i(){return Object(o.a)({url:s+"/kv",method:"get"})}function l(t){return Object(o.a)({url:s,method:"post",data:t})}function c(t,e){return Object(o.a)({url:s+"/"+t,method:"put",data:e})}function u(t){return Object(o.a)({url:s+"/"+t,method:"delete"})}},"H+r+":function(t,e,r){"use strict";var o=r("P2sY"),s=r.n(o),n=r("cBdM"),a=r("96tq"),i=r("Yfch"),l={id:void 0,name:"",email:"",nick_name:"",user_name:"",password:"",repassword:"",avatar:"",roles:[],status:1},c={name:"AadminDetail",components:{},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this;return{postForm:s()({},l),loading:!1,userListOptions:[],rules:{name:[{required:!0,message:"请填写姓名",trigger:"blur"}],user_name:[{required:!0,message:"请填写姓名",trigger:"blur"}],email:[{required:!0,type:"email",message:"请填写正确的邮箱地址",trigger:"blur"}],nick_name:[{required:!0,message:"请填写昵称",trigger:"blur"}],password:[{required:!0,validator:function(e,r,o){Object(i.b)(r)?(""!==t.postForm.repassword&&t.$refs.postForm.validateField("repassword"),o()):o(new Error("请输入数字或字母并且在6~20个字符的密码"))},trigger:"blur"}],repassword:[{required:!0,validator:function(e,r,o){Object(i.b)(r)?r!==t.postForm.password?o(new Error("两次输入密码不一致!")):o():o(new Error("请再次输入密码"))},trigger:"blur"}]},roles:[],postFormRoute:{}}},computed:{btnName:function(){return this.isEdit?"编辑":"添加"}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetchData(t)}else this.postForm=s()({},l);this.postFormRoute=s()({},this.$route)},methods:{fetchData:function(t){var e=this;Object(a.d)().then(function(t){e.roles=t.data}).catch(function(t){console.log(t)}),Object(n.d)(t).then(function(t){e.postForm=t.data}).catch(function(t){console.log(t)})},goList:function(){this.$router.back()},submitForm:function(){var t=this;this.$refs.postForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.isEdit?Object(n.f)(t.postForm.id,t.postForm).then(function(e){t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3}),t.goList()}).catch(function(t){console.log(t)}):Object(n.e)(t.postForm).then(function(e){t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.goList()}).catch(function(t){console.log(t)}),t.loading=!1})}}},u=(r("kBZ7"),r("KHd+")),p=Object(u.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"createPost-container"},[r("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules,"label-width":"80px"}},[r("div",{staticClass:"createPost-main-container"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入姓名",clearable:""},model:{value:t.postForm.name,callback:function(e){t.$set(t.postForm,"name",e)},expression:"postForm.name"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"用户名",prop:"user_name"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:t.postForm.user_name,callback:function(e){t.$set(t.postForm,"user_name",e)},expression:"postForm.user_name"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"昵称",prop:"nick_name"}},[r("el-input",{attrs:{type:"text",placeholder:"请输入昵称"},model:{value:t.postForm.nick_name,callback:function(e){t.$set(t.postForm,"nick_name",e)},expression:"postForm.nick_name"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{type:"email",placeholder:"请输入邮箱号"},model:{value:t.postForm.email,callback:function(e){t.$set(t.postForm,"email",e)},expression:"postForm.email"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码，可以是数字或者字母，字符数为6~20"},model:{value:t.postForm.password,callback:function(e){t.$set(t.postForm,"password",e)},expression:"postForm.password"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[r("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.postForm.repassword,callback:function(e){t.$set(t.postForm,"repassword",e)},expression:"postForm.repassword"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"所属角色",prop:"role"}},[r("el-checkbox-group",{model:{value:t.postForm.roles,callback:function(e){t.$set(t.postForm,"roles",e)},expression:"postForm.roles"}},t._l(t.roles,function(e,o){return r("el-checkbox",{key:o,attrs:{label:o}},[t._v(t._s(e))])}))],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.btnName))]),t._v(" "),r("el-button",{on:{click:t.goList}},[t._v("取消")])],1)],1)],1)])],1)},[],!1,null,"bcfa8330",null);p.options.__file="AdminDetail.vue";e.a=p.exports},R8JE:function(t,e,r){"use strict";r.r(e);var o={name:"AdminEdit",components:{AdminDetail:r("H+r+").a}},s=r("KHd+"),n=Object(s.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("admin-detail",{attrs:{"is-edit":!0}})],1)},[],!1,null,null,null);n.options.__file="edit.vue";e.default=n.exports},Tg4z:function(t,e,r){},Yfch:function(t,e,r){"use strict";function o(t){return/[\w]{5,}/.test(t)}function s(t){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(t)}function n(t){return/^[A-Za-z0-9]{6,20}$/.test(t)}r.d(e,"a",function(){return o}),r.d(e,"c",function(){return s}),r.d(e,"b",function(){return n})},kBZ7:function(t,e,r){"use strict";var o=r("Tg4z");r.n(o).a}}]);